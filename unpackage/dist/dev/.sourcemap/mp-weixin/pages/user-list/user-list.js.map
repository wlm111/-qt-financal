{"version":3,"sources":["webpack:///E:/学习视频/悦读视频/糗事百科资料/糗事/仿糗事百科/main.js","webpack:///E:/学习视频/悦读视频/糗事百科资料/糗事/仿糗事百科/pages/user-list/user-list.vue?d0cd","webpack:///E:/学习视频/悦读视频/糗事百科资料/糗事/仿糗事百科/pages/user-list/user-list.vue?bcd4","webpack:///E:/学习视频/悦读视频/糗事百科资料/糗事/仿糗事百科/pages/user-list/user-list.vue?998a","webpack:///E:/学习视频/悦读视频/糗事百科资料/糗事/仿糗事百科/pages/user-list/user-list.vue?f9da","webpack:///E:/学习视频/悦读视频/糗事百科资料/糗事/仿糗事百科/pages/user-list/user-list.vue"],"names":["createPage","Page","components","swiperTabHead","userList","loadMore","noThing","data","swiperheight","tabIndex","tabBars","name","id","num","newslist","loadtext","list","page","firstload","onLoad","uni","getSystemInfo","success","res","height","windowHeight","upx2px","onNavigationBarButtonTap","e","index","navigateBack","delta","onNavigationBarSearchInputClicked","navigateTo","url","onShow","__init","methods","User","counts","friend_count","withfollow_count","withfen_count","getList","getUrl","arr","currentIndex","$http","get","token","checkToken","err","errorCheck","console","log","i","length","push","__format","concat","item","userinfo","user_id","userpic","username","age","sex","isguanzhu","loadmore","tabtap","tabChange","detail","current"],"mappings":"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","file":"pages/user-list/user-list.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/user-list/user-list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user-list.vue?vue&type=template&id=1a9f1532&\"\nvar renderjs\nimport script from \"./user-list.vue?vue&type=script&lang=js&\"\nexport * from \"./user-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1a9f1532')) {\n      api.createRecord('1a9f1532', component.options)\n    } else {\n      api.reload('1a9f1532', component.options)\n    }\n    module.hot.accept(\"./user-list.vue?vue&type=template&id=1a9f1532&\", function () {\n      api.rerender('1a9f1532', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"学习视频/悦读视频/糗事百科资料/糗事/仿糗事百科/pages/user-list/user-list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=template&id=1a9f1532&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../uni-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport swiperTabHead from \"../../components/index/swiper-tab-head.vue\";\nimport userList from \"../../components/user-list/user-list.vue\";\nimport loadMore from \"../../components/common/load-more.vue\";\nimport noThing from \"../../components/common/no-thing.vue\";\nexport default {\n\tcomponents:{\n\t\tswiperTabHead,\n\t\tuserList,\n\t\tloadMore,\n\t\tnoThing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tswiperheight:500,\n\t\t\ttabIndex:0,\n\t\t\ttabBars:[\n\t\t\t\t{ name:\"互关\",id:\"huguan\",num:10 },\n\t\t\t\t{ name:\"关注\",id:\"guanzhu\",num:20 },\n\t\t\t\t{ name:\"粉丝\",id:\"fensi\",num:30 },\n\t\t\t],\n\t\t\t\n\t\t\tnewslist:[\n\t\t\t\t{\n\t\t\t\t\tloadtext:\"上拉加载更多\",\n\t\t\t\t\tlist:[],\n\t\t\t\t\tpage:1,\n\t\t\t\t\tfirstload:false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tloadtext:\"上拉加载更多\",\n\t\t\t\t\tlist:[],\n\t\t\t\t\tpage:1,\n\t\t\t\t\tfirstload:false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tloadtext:\"上拉加载更多\",\n\t\t\t\t\tlist:[],\n\t\t\t\t\tpage:1,\n\t\t\t\t\tfirstload:false,\n\t\t\t\t}\n\t\t\t]\n\t\t\t\n\t\t};\n\t},\n\tonLoad() {\n\t\tuni.getSystemInfo({\n\t\t\tsuccess: (res)=> {\n\t\t\t\tlet height=res.windowHeight-uni.upx2px(100)\n\t\t\t\tthis.swiperheight=height;\n\t\t\t}\n\t\t});\n\t},\n\t// 监听导航按钮事件\n\tonNavigationBarButtonTap(e) {\n\t\tif(e.index==0){\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t});\n\t\t}\n\t},\n\tonNavigationBarSearchInputClicked() {\n\t\tuni.navigateTo({\n\t\t\turl: '../search/search?searchType=user',\n\t\t});\n\t},\n\tonShow() {\n\t\tthis.__init();\n\t},\n\tmethods:{\n\t\t__init(){\n\t\t\tthis.tabBars[0].num = this.User.counts.friend_count < 100 ? this.User.counts.friend_count : '99+';\n\t\t\tthis.tabBars[1].num = this.User.counts.withfollow_count < 100 ? this.User.counts.withfollow_count : '99+';\n\t\t\tthis.tabBars[2].num = this.User.counts.withfen_count < 100 ? this.User.counts.withfen_count : '99+';\n\t\t\tthis.getList();\n\t\t},\n\t\tgetUrl(){\n\t\t\tlet arr = ['/friends/','/follows/','/fens/'];\n\t\t\treturn arr[this.tabIndex]+this.newslist[this.tabIndex].page;\n\t\t},\n\t\t// 获取列表\n\t\tasync getList(){\n\t\t\ttry{\n\t\t\t\tlet currentIndex = this.tabIndex;\n\t\t\t\tlet [err,res] = await this.$http.get(this.getUrl(),{},{\n\t\t\t\t\ttoken:true,\n\t\t\t\t\tcheckToken:true\n\t\t\t\t});\n\t\t\t\t// 错误处理\n\t\t\t\tif (!this.$http.errorCheck(err,res)) {\n\t\t\t\t\tthis.newslist[currentIndex].loadtext=\"上拉加载更多\";\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 获取成功\n\t\t\t\tlet arr = [];\n\t\t\t\tconsole.log(res)\n\t\t\t\tlet list = res.data.data.list;\n\t\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\t\tarr.push(this.__format(list[i],currentIndex));\n\t\t\t\t}\n\t\t\t\tthis.newslist[currentIndex].list = this.newslist[currentIndex].page > 1 ? this.newslist[currentIndex].list.concat(arr) : arr;\n\t\t\t\tthis.newslist[currentIndex].firstload = true;\n\t\t\t\tthis.newslist[currentIndex].loadtext= list.length < 10 ? \"没有更多数据了\" : \"上拉加载更多\";\n\t\t\t\treturn;\n\t\t\t}catch(e){\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t__format(item,currentIndex){\n\t\t\treturn {\n\t\t\t\tid:item.userinfo.user_id,\n\t\t\t\tuserpic:item.userpic,\n\t\t\t\tusername:item.username,\n\t\t\t\tage:item.userinfo.age,\n\t\t\t\tsex:item.userinfo.sex,\n\t\t\t\tisguanzhu:currentIndex !== 2 \n\t\t\t}\n\t\t},\n\t\tloadmore(index){\n\t\t\tif(this.newslist[index].loadtext!==\"上拉加载更多\")  return;\n\t\t\t// 修改状态\n\t\t\tthis.newslist[index].loadtext=\"加载中...\";\n\t\t\tthis.newslist[index].page++;\n\t\t\tthis.getList();\n\t\t},\n\t\t// tabbar点击事件\n\t\ttabtap(index){\n\t\t\tthis.tabIndex=index;\n\t\t},\n\t\t// 滑动事件\n\t\ttabChange(e){\n\t\t\tthis.tabIndex=e.detail.current;\n\t\t\t// 判断是否首次加载过了\n\t\t\tif (!this.newslist[this.tabIndex].firstload) {\n\t\t\t\tthis.getList();\n\t\t\t}\n\t\t}\n\t}\n}\n"],"sourceRoot":""}